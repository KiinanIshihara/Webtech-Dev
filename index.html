<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" content="width=device-width, initial-scale=1">
    <title>⛩️Webtech Login Portal⛩️</title>
    <link rel="stylesheet" href="css/masterStyle1.css">
  </head>
  <body>

    <div class="splitLeft">
    </div>


    <div class="splitRight">

      <div class="centered">
        <div class="loginHeader"><em><b>Login to your account</b></em></div>



        <form class="loginForm" action="" method="post">
        <div class="containerlogin">
            <label for="usrnm" style="font-size:15px; top: 0;"><b></b>Username/Email</label><br>
            <input type="text" placeholder="Enter Username" name="userNm" id="username" oninput="nextInput()"  autofocus required><br>

            <label for="pwd" style="font-size:15px; top: 0;">Password</label><br>
            <input type="password" placeholder="Enter Password" name="userPwd" id="password" oninput="afterPwd()" required><br>


            <label class="rememberMe" style="font-size:12px;">
              <input type="checkbox" checked="checked" name="remember"> Remember me
            </label>




            <span class="forgotpwd"><a href="#" style="font-size:12px;">Forgot password?</a></span> <br>
            <br>
            <br>
            <div class="loginButton">
              <input type="button" class="loginBttn" value="Login now" onfocus="loginEnter()" onclick="validate()" id="login"></button>
            </div>

            <br>
            <br>

            <div class="noAccText" style="font-size:12px;">Don't have an account? <a href="#" onclick="document.getElementById('id01').style.display='block'"  style="width:auto;">Signup Now</a></div>
        </form>
      </div>
    </div>


              <!-- The Modal -->
              <div id="id01" class="modal">
                <span onclick="document.getElementById('id01').style.display='none'"
              class="close" title="Close Modal">&times;</span>

              <!-- Modal Content -->
                <form class="modal-content animate" action="" id="modalSignupForm">


                <div class="containerModalSignup">
                  <label for="emale"><b>Email</b></label>
                  <input form="modalSignupForm" type="email" placeholder="Enter Email" name="emale" required>


                  <label for="uname"><b>New Username</b></label>
                  <input form="modalSignupForm" type="text" placeholder="Enter Username" name="uname" required>


                  <label for="psw"><b>Password</b></label>
                <input form="modalSignupForm" type="password" placeholder="Enter Password" name="psw" required>


                <label for="cnfrmpsw"><b>Confirm Password</b></label>
                <input form="modalSignupForm" type="password" placeholder="Enter Same Password" name="cnfrmpsw" required>
                <!-- Need to implement new password and confirm password verification function through JS -->

              </div>

              <div class="container" style="background-color:#852665; border-radius:0px 0px 10px 10px;">
                <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
                <button type="submit" form="modalSignupForm" style="font-family: myFirstFont; float:right;" class="signupbtn">Signup</button></span>

              </div>
                </form>
              </div>
        </div>



<script>
  // Get the modal
  var modal = document.getElementById('id01');

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

{
  function nextInput() {
    addEventListener('keydown', function(evt) {
        var whichKey = checkKey(evt);
        if (whichKey == 13) {
            console.log('successful');
            evt.preventDefault(); // if it's inside <form> tag, you don't want to submit it
    document.getElementById('password').focus();
        }
        });
    }
    function checkKey(evt) {
        console.log(evt.which);
        return evt.which;
    }
  }



    {
      function afterPwd() {
      addEventListener('keydown', function(evt) {
          var whichKey = checkKey(evt);
          if (whichKey == 13) {
              console.log('successful');
              evt.preventDefault(); // if it's inside <form> tag, you don't want to submit it
      document.getElementById('login').focus();
          }
          });
        }
      function checkKey(evt) {
          console.log(evt.which);
          return evt.which;
      }
    }
    

      function loginEnter() {
        // Get the input field
var input = document.getElementById("login");

// Execute a function when the user releases a key on the keyboard
input.addEventListener("keyup", function(event) {
  // Number 13 is the "Enter" key on the keyboard
  if (event.keyCode == 13) {
    // Cancel the default action, if needed
    event.preventDefault();
    // Trigger the button element with a click
    document.getElementById("login").click();
    return;
  }
});
      }


  // simple login system
  var attempt = 3; // Variable to count number of attempts.
// Below function Executes on click of login button.
function validate(){
var username = document.getElementById("username").value;
var password = document.getElementById("password").value;
if ( username == "Kiinan" && password == "password123"){
alert ("Login successfully");
window.location.href = "Homepage.html"; // Redirecting to other page.
return false;
}
else{
attempt --;// Decrementing by one.
document.getElementById('username').focus();
  if (attempt > 0) {
    alert("You have "+attempt+" attempt(s) left;");
  }
  else {
    alert("You have no more attempts. Please try again later.")
  }
// Disabling fields after 3 attempts.
if( attempt == 0){
document.getElementById("username").disabled = true;
document.getElementById("password").disabled = true;
document.getElementById("submit").disabled = true;

return false;
}
}
}

</script>

</body>

</html>
